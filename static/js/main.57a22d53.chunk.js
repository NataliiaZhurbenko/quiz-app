(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__3inZY",open:"MenuToggle_open__UO10x"}},function(e,t,n){e.exports={Drawer:"Drawer_Drawer__2ttJE",close:"Drawer_close__2mkqG",active:"Drawer_active__2Q8Uq"}},,,,function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__38bP6",success:"AnswerItem_success__6ZZ6z",error:"AnswerItem_error__2h3_a"}},function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__2mfmL",Question:"ActiveQuiz_Question__6twgm"}},function(e,t,n){e.exports={Button:"Button_Button__nhFqt",error:"Button_error__2oXCl",success:"Button_success__3VtFw",primary:"Button_primary__1h9FL"}},function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__23DLN",success:"FinishedQuiz_success__3drZ4",error:"FinishedQuiz_error__3SUqo"}},function(e,t,n){e.exports={Quiz:"Quiz_Quiz__aTR2r",QuizWrapper:"Quiz_QuizWrapper__1Dw3y"}},function(e,t,n){e.exports={Input:"Input_Input__2kLMB",invalid:"Input_invalid__2DI-s"}},function(e,t,n){e.exports={Auth:"Auth_Auth__15EfL",AuthForm:"Auth_AuthForm__3byRC"}},,,,function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2_olL"}},,,function(e,t,n){e.exports={Layout:"Layout_Layout__2dwyM"}},function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__2Y3S1"}},function(e,t,n){e.exports={QuizList:"QuizList_QuizList__3n6AY"}},,function(e,t,n){e.exports={Select:"Select_Select__3K3M3"}},function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__1M6tq"}},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),i=n(30),a=n.n(i),c=n(11),o=(n(44),n(7)),u=n(8),l=n(10),d=n(9),h=n(16),j=n.n(h),v=n(0),b=function(e){var t=[j.a.MenuToggle,"fa"];return console.log(j.a),e.isOpen?(t.push("fa-times"),t.push(j.a.open)):t.push("fa-bars"),Object(v.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},p=n(31),m=n.n(p),f=function(e){return Object(v.jsx)("div",{className:m.a.Backdrop,onClick:e.onClick})},O=n(17),x=n.n(O),_=[{to:"/",label:"List",exact:!0},{to:"/auth",label:"Authorization",exact:!0},{to:"/quiz-creator",label:"Create quiz",exact:!0}],g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).clickHandler=function(){e.props.onClose()},e}return Object(u.a)(n,[{key:"renderLinks",value:function(){var e=this;return _.map((function(t,n){return Object(v.jsx)("li",{children:Object(v.jsx)(c.c,{to:t.to,exact:t.exact,activeClassName:x.a.active,onClick:e.clickHandler,children:t.label})},n)}))}},{key:"render",value:function(){var e=[x.a.Drawer];return this.props.isOpen||e.push(x.a.close),Object(v.jsxs)(s.a.Fragment,{children:[Object(v.jsx)("nav",{className:e.join(" "),children:Object(v.jsx)("ul",{children:this.renderLinks()})}),this.props.isOpen?Object(v.jsx)(f,{onClick:this.props.onClose}):null]})}}]),n}(r.Component),w=n(34),C=n.n(w),z=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:C.a.Layout,children:[Object(v.jsx)(g,{isOpen:this.state.menu,onClose:this.menuCloseHandler}),Object(v.jsx)(b,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),Object(v.jsx)("main",{children:this.props.children})]})}}]),n}(r.Component),y=n(14),k=n(21),q=n.n(k),A=function(e){var t=[q.a.AnswerItem];return e.state&&t.push(q.a[e.state]),Object(v.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClickHandler(e.answer.id)},children:e.answer.text})},Q=n(35),H=n.n(Q),S=function(e){return Object(v.jsx)("ul",{className:H.a.AnswersList,children:e.answers.map((function(t,n){return Object(v.jsx)(A,{onAnswerClickHandler:e.onAnswerClickHandler,answer:t,state:e.state?e.state[t.id]:null},n)}))})},F=n(22),L=n.n(F),I=function(e){return Object(v.jsxs)("div",{className:L.a.ActiveQuiz,children:[Object(v.jsxs)("p",{className:L.a.Question,children:[Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[e.answerNumber,".\xa0"]}),e.question]}),Object(v.jsxs)("small",{children:[e.answerNumber," from ",e.quizLenght]})]}),Object(v.jsx)(S,{state:e.state,onAnswerClickHandler:e.onAnswerClickHandler,answers:e.answers})]})},N=n(23),M=n.n(N),D=function(e){var t=[M.a.Button,M.a[e.type]];return Object(v.jsx)("button",{onClick:e.onClick,disabled:e.disabled,className:t.join(" "),children:e.children})},B=n(24),V=n.n(B),T=function(e){var t=Object.keys(e.results).reduce((function(t,n){return"success"===e.results[n]&&t++,t}),0);return Object(v.jsxs)("div",{className:V.a.FinishedQuiz,children:[Object(v.jsx)("ul",{children:e.quiz.map((function(t,n){var r=["fa","success"===e.results[t.id]?"fa-check":"fa-times",V.a[e.results[t.id]]];return Object(v.jsxs)("li",{children:[Object(v.jsxs)("strong",{children:[n+1,". "]}),t.question,Object(v.jsx)("i",{className:r.join(" ")})]},n)}))}),Object(v.jsxs)("p",{children:[" ","Correct answers ",t,"/ ",e.quiz.length]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(D,{onClick:e.onRetry,type:"primary",children:"Pass one more time"}),Object(v.jsx)(c.b,{to:"/",children:Object(v.jsx)(D,{type:"success",children:"Go to the quiz questions"})})]})]})},E=n(25),P=n.n(E),R=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:[{question:"2*2",rightAnswerId:2,id:1,answers:[{text:"2",id:1},{text:"4",id:2},{text:"1",id:3},{text:"0",id:4}]},{question:"3*2",rightAnswerId:1,id:2,answers:[{text:"6",id:1},{text:"4",id:2},{text:"1",id:3},{text:"0",id:4}]}]},e.onAnswerClickHandler=function(t){if(e.state.answerState){var n=Object.keys(e.state.answerState)[0];if("success"===e.state.answerState[n])return}var r=e.state.quiz[e.state.activeQuestion],s=e.state.results;if(r.rightAnswerId===t){var i;s[r.id]||(s[r.id]="success"),e.setState({answerState:(i={},Object(y.a)(i,t,"success"),Object(y.a)(i,"results",s),i)});var a=window.setTimeout((function(){e.isQuizFinished()?e.setState({isFinished:!0}):e.setState({activeQuestion:e.state.activeQuestion+1,answerState:null}),window.clearTimeout(a)}),1e3)}else{var c;s[r.id]="error",e.setState({answerState:(c={},Object(y.a)(c,t,"error"),Object(y.a)(c,"results",s),c)})}},e.retryHandler=function(){e.setState({results:{},isFinished:!1,activeQuestion:0,answerState:null})},e}return Object(u.a)(n,[{key:"isQuizFinished",value:function(){return this.state.activeQuestion+1===this.state.quiz.length}},{key:"componentDidMount",value:function(){console.log("id",this.props.match.params.id)}},{key:"render",value:function(){return Object(v.jsx)("div",{className:P.a.Quiz,children:Object(v.jsxs)("div",{className:P.a.QuizWrapper,children:[Object(v.jsx)("h1",{children:"Please answer the questions"}),this.state.isFinished?Object(v.jsx)(T,{results:this.state.results,quiz:this.state.quiz,onRetry:this.retryHandler}):Object(v.jsx)(I,{question:this.state.quiz[this.state.activeQuestion].question,answers:this.state.quiz[this.state.activeQuestion].answers,onAnswerClickHandler:this.onAnswerClickHandler,quizLenght:this.state.quiz.length,answerNumber:this.state.activeQuestion+1,state:this.state.answerState})]})})}}]),n}(r.Component),Z=n(2),J=n(36),U=n.n(J),W=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderQuizes",value:function(){return[1,2,3].map((function(e,t){return Object(v.jsx)("li",{children:Object(v.jsxs)(c.c,{to:"quiz/"+e,children:["Test ",t]})},t)}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:U.a.QuizList,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Quiz List"}),Object(v.jsx)("ul",{children:this.renderQuizes()})]})})}}]),n}(r.Component),Y=n(12),G=n(26),K=n.n(G);function X(e){var t=e.valid,n=e.touched,r=e.shouldValidate;return!t&&r&&n}var $=function(e){var t=e.type||"text",n=[K.a.Input];X(e)&&n.push(K.a.invalid);var r="".concat(t,"-").concat(Math.random());return Object(v.jsxs)("div",{className:n.join(" "),children:[Object(v.jsx)("label",{htmlFor:r,children:e.label}),Object(v.jsx)("input",{type:t,id:r,value:e.value,onChange:e.onChange}),X(e)?Object(v.jsx)("span",{children:e.errorMessage}):null]})},ee=n(37),te=n.n(ee),ne=n(27),re=n.n(ne),se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Enter valid email",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Enter valid password",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},e.loginHandler=function(){},e.registerHandler=function(){},e.submitHandler=function(e){e.preventDefault()},e.onChangeHandler=function(t,n){var r=Object(Y.a)({},e.state.formControls),s=Object(Y.a)({},r[n]);s.value=t.target.value,s.touched=!0,s.valid=e.validateControl(s.value,s.validation),r[n]=s;var i=!0;Object.keys(r).forEach((function(e){i=r[e].valid&&i})),e.setState({formControls:r,isFormValid:i})},e}return Object(u.a)(n,[{key:"validateControl",value:function(e,t){if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),t.email&&(n=te.a.email(e)&&n),t.minLength&&(n=e.length>=t.minLength&&n),n}},{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(v.jsx)($,{type:r.type,value:r.value,valid:r.valid,touched:r.touched,label:r.label,errorMessage:r.errorMessage,schouldValidate:!!r.validation,onChange:function(n){return e.onChangeHandler(n,t)}},t+n)}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:re.a.Auth,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Authorization"}),Object(v.jsxs)("form",{className:re.a.AuthForm,onSubmit:this.submitHandler,children:[this.renderInputs(),Object(v.jsx)(D,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid,children:"Sign in"}),Object(v.jsx)(D,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid,children:"Sign up"})]})]})})}}]),n}(r.Component),ie=n(38),ae=n.n(ie),ce=function(e){var t="".concat(e.htmlFor,"-").concat(Math.random());return Object(v.jsxs)("div",{className:ae.a.Select,children:[Object(v.jsx)("label",{htmlFor:t,children:e.label}),Object(v.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(v.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})};function oe(e,t){return Object(Y.a)(Object(Y.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&(n=""!==e.trim()&&n),n}function le(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t}var de=function(e){return e.children},he=n(39),je=n.n(he);function ve(e){return oe({label:"Answer ".concat(e),errorMessage:"No empty field",id:e},{required:!0})}function be(){return{question:oe({label:"Please enter a question",errorMessage:"No empty field"},{required:!0}),option1:ve(1),option2:ve(2),option3:ve(3),option4:ve(4)}}var pe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={quiz:[],formControls:be(),rightAnswerId:1,isFormValid:!1},e.submitHandler=function(e){e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=e.state.quiz.concat(),r=n.length+1,s=e.state.formControls,i=s.question,a=s.option1,c=s.option2,o=s.option3,u=s.option4,l={question:i.value,id:r,rightAnswerId:e.state.rightAnswerId,answers:[{text:a.value,id:a.id},{text:c.value,id:c.id},{text:o.value,id:o.id},{text:u.value,id:u.id}]};n.push(l),e.setState({quiz:n,formControls:be(),rightAnswerId:1,isFormValid:!1})},e.createQuizHandler=function(t){t.preventDefault(),console.log(e.state.quiz)},e.changeHandler=function(t,n){var r=Object(Y.a)({},e.state.formControls),s=Object(Y.a)({},r[n]);s.touched=!0,s.value=t,s.valid=ue(s.value,s.validation),r[n]=s,e.setState({formControls:r,isFormValid:le(r)})},e.selectChangeHandler=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(u.a)(n,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(v.jsxs)(de,{children:[Object(v.jsx)($,{label:r.label,value:r.value,valid:r.valid,shouldValidate:!!r.validation,touched:r.touched,errorMessage:r.errorMessage,onChange:function(n){return e.changeHandler(n.target.value,t)}}),0===n?Object(v.jsx)("hr",{}):null]},t+n)}))}},{key:"render",value:function(){var e=Object(v.jsx)(ce,{label:"Select right answer",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]});return Object(v.jsx)("div",{className:je.a.QuizCreator,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Create quiz"}),Object(v.jsxs)("form",{onSubmit:this.submitHandler,children:[this.renderInputs(),e,Object(v.jsx)(D,{type:"primary",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"Add question"}),Object(v.jsx)(D,{type:"success",onClick:this.createQuizHandler,disabled:0===this.state.quiz.length,children:"Create quiz"})]})]})})}}]),n}(r.Component);var me=function(){return Object(v.jsx)(z,{children:Object(v.jsxs)(Z.c,{children:[Object(v.jsx)(Z.a,{path:"/auth",component:se}),Object(v.jsx)(Z.a,{path:"/quiz-creator",component:pe}),Object(v.jsx)(Z.a,{path:"/quiz/:id",component:R}),Object(v.jsx)(Z.a,{path:"/",component:W})]})})},fe=Object(v.jsx)(c.a,{children:Object(v.jsx)(me,{})});a.a.render(fe,document.getElementById("root"))}],[[50,1,2]]]);
//# sourceMappingURL=main.57a22d53.chunk.js.map